<section id="catalogo" class="catalogo"></section>

<script>
async function cargarCatalogo() {
  try {
    const res = await fetch("/api/mercadolibre");
    const data = await res.json();

    const contenedor = document.getElementById("catalogo");

    data.forEach(producto => {
      const card = document.createElement("div");
      card.className = "producto";

      card.innerHTML = `
        <img src="${producto.thumbnail}" alt="${producto.title}" />
        <h3>${producto.title}</h3>
        <p class="precio">$${producto.price}</p>
        <p>Disponibles: ${producto.available_quantity}</p>
        <a href="${producto.permalink}" target="_blank" class="btn">Ver en Mercado Libre</a>
      `;

      contenedor.appendChild(card);
    });
  } catch (error) {
    console.error("Error cargando cat√°logo:", error);
  }
}

cargarCatalogo();
</script>
